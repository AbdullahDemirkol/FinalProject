#pragma checksum "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "31a516b60da5e061f3d71f7b6141fdf55641e6e6"
// <auto-generated/>
#pragma warning disable 1591
namespace WebApplication.Pages.Product.Products
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.AspNetCore.WebUtilities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Business.Concrete;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Business.Abstract;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.User;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.Product;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.Helper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.Basket;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.Basket.Order;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.Basket.Buyer;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Entity.Concrete.DTOs;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Infrastructer;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using WebApplication.Pages.Modal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.Text.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Blazored.Modal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using Blazored.Modal.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\_Imports.razor"
using System.Text.RegularExpressions;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Product")]
    [Microsoft.AspNetCore.Components.RouteAttribute("/Product/{search}")]
    public partial class Products : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<div class=""breadcrumb-section breadcrumb-bg"" b-k5jp4mv3hq><div class=""container"" b-k5jp4mv3hq><div class=""row"" b-k5jp4mv3hq><div class=""col-lg-8 offset-lg-2 text-center"" b-k5jp4mv3hq><div class=""breadcrumb-text"" b-k5jp4mv3hq><p b-k5jp4mv3hq>E-Ticaret Websitesi</p>
                    <h1 b-k5jp4mv3hq>Ürünler</h1></div></div></div></div></div>


");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "product-section mt-150 mb-150");
            __builder.AddAttribute(3, "b-k5jp4mv3hq");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "container");
            __builder.AddAttribute(6, "b-k5jp4mv3hq");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "row");
            __builder.AddAttribute(9, "b-k5jp4mv3hq");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "col-md-12");
            __builder.AddAttribute(12, "b-k5jp4mv3hq");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "product-filters");
            __builder.AddAttribute(15, "b-k5jp4mv3hq");
            __builder.OpenElement(16, "div");
            __builder.AddAttribute(17, "class", "row");
            __builder.AddAttribute(18, "b-k5jp4mv3hq");
            __builder.OpenElement(19, "div");
            __builder.AddAttribute(20, "class", "col-md-3");
            __builder.AddAttribute(21, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(22, "<p class=\"product-filter\" b-k5jp4mv3hq>Üst Kategori:</p>\r\n                            ");
            __builder.OpenElement(23, "select");
            __builder.AddAttribute(24, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 32 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                               OptionUpCategorySelected

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(25, "b-k5jp4mv3hq");
            __builder.OpenElement(26, "option");
            __builder.AddAttribute(27, "value", "0");
            __builder.AddAttribute(28, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(29, "Tümü");
            __builder.CloseElement();
#nullable restore
#line 34 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 foreach (var upCategory in upCategories)
                                {
                                    if (selectedUpCategoryId == 0)
                                    {
                                        if (selectedDownCategoryId != 0)
                                        {
                                            if (upCategory.Id == downCategories.FirstOrDefault(p => p.Id == selectedDownCategoryId).UpCategoryId)
                                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(30, "option");
            __builder.AddAttribute(31, "value", 
#nullable restore
#line 42 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                upCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(32, "selected");
            __builder.AddAttribute(33, "b-k5jp4mv3hq");
            __builder.AddContent(34, 
#nullable restore
#line 42 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                         upCategory.UpCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 43 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(35, "option");
            __builder.AddAttribute(36, "value", 
#nullable restore
#line 46 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                upCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(37, "b-k5jp4mv3hq");
            __builder.AddContent(38, 
#nullable restore
#line 46 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                upCategory.UpCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 47 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                            }
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(39, "option");
            __builder.AddAttribute(40, "value", 
#nullable restore
#line 51 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                            upCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(41, "b-k5jp4mv3hq");
            __builder.AddContent(42, 
#nullable restore
#line 51 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                            upCategory.UpCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 52 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                        }
                                    }
                                    else
                                    {
                                        if (selectedUpCategoryId == upCategory.Id)
                                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(43, "option");
            __builder.AddAttribute(44, "value", 
#nullable restore
#line 58 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                            upCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(45, "selected");
            __builder.AddAttribute(46, "b-k5jp4mv3hq");
            __builder.AddContent(47, 
#nullable restore
#line 58 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                     upCategory.UpCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 59 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(48, "option");
            __builder.AddAttribute(49, "value", 
#nullable restore
#line 62 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                            upCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(50, "b-k5jp4mv3hq");
            __builder.AddContent(51, 
#nullable restore
#line 62 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                            upCategory.UpCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 63 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                        }
                                    }
                                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n                        ");
            __builder.OpenElement(53, "div");
            __builder.AddAttribute(54, "class", "col-md-3");
            __builder.AddAttribute(55, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(56, "<p class=\"product-filter\" b-k5jp4mv3hq>Alt Kategori:</p>\r\n                            ");
            __builder.OpenElement(57, "select");
            __builder.AddAttribute(58, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 70 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                               OptionDownCategorySelected

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(59, "b-k5jp4mv3hq");
            __builder.OpenElement(60, "option");
            __builder.AddAttribute(61, "value", "0");
            __builder.AddAttribute(62, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(63, "Tümü");
            __builder.CloseElement();
#nullable restore
#line 72 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 foreach (var downCategory in downCategories)
                                {
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 74 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                     if (selectedUpCategoryId == 0)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(64, "option");
            __builder.AddAttribute(65, "value", 
#nullable restore
#line 76 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                        downCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(66, "b-k5jp4mv3hq");
            __builder.AddContent(67, 
#nullable restore
#line 76 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                          downCategory.DownCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 77 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                    }
                                    else
                                    {
                                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 80 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                         if (downCategory.UpCategoryId == selectedUpCategoryId)
                                        {
                                            if (downCategory.Id == selectedDownCategoryId)
                                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(68, "option");
            __builder.AddAttribute(69, "value", 
#nullable restore
#line 84 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                downCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(70, "selected");
            __builder.AddAttribute(71, "b-k5jp4mv3hq");
            __builder.AddContent(72, 
#nullable restore
#line 84 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                           downCategory.DownCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 85 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(73, "option");
            __builder.AddAttribute(74, "value", 
#nullable restore
#line 88 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                downCategory.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(75, "b-k5jp4mv3hq");
            __builder.AddContent(76, 
#nullable restore
#line 88 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                  downCategory.DownCategoryName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 89 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"

                                            }
                                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 91 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                         
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 92 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                     
                                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n                        ");
            __builder.OpenElement(78, "div");
            __builder.AddAttribute(79, "class", "col-md-3");
            __builder.AddAttribute(80, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(81, "<p class=\"product-filter\" b-k5jp4mv3hq>Marka:</p>\r\n                            ");
            __builder.OpenElement(82, "select");
            __builder.AddAttribute(83, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 98 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                               OptionBrandSelected

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(84, "b-k5jp4mv3hq");
            __builder.OpenElement(85, "option");
            __builder.AddAttribute(86, "value", "0");
            __builder.AddAttribute(87, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(88, "Tümü");
            __builder.CloseElement();
#nullable restore
#line 100 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 foreach (var brand in brands)
                                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(89, "option");
            __builder.AddAttribute(90, "value", 
#nullable restore
#line 102 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                    brand.Id

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(91, "b-k5jp4mv3hq");
            __builder.AddContent(92, 
#nullable restore
#line 102 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                               brand.BrandName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 103 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(93, "\r\n                        ");
            __builder.OpenElement(94, "div");
            __builder.AddAttribute(95, "class", "search-button-div col-md-3 text-center");
            __builder.AddAttribute(96, "b-k5jp4mv3hq");
            __builder.OpenElement(97, "button");
            __builder.AddAttribute(98, "class", "search-button");
            __builder.AddAttribute(99, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 107 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                    FilterProduct

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(100, "b-k5jp4mv3hq");
            __builder.AddContent(101, "Filtrele");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(102, "\r\n                    <ul b-k5jp4mv3hq></ul>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 183 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
         if (_products.Count() > 0)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(103, "div");
            __builder.AddAttribute(104, "class", "row product-lists");
            __builder.AddAttribute(105, "style", "height:auto;");
            __builder.AddAttribute(106, "b-k5jp4mv3hq");
#nullable restore
#line 186 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                 foreach (var productItem in _products)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<WebApplication.Pages.Product.Products.ProductView>(107);
            __builder.AddAttribute(108, "ProductItem", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<WebApplication.Entity.Concrete.Product.Product>(
#nullable restore
#line 188 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                              productItem

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(109, "OnClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 188 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                    ()=>AddToCart(productItem)

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
#nullable restore
#line 189 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                                                                   
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(110, "\r\n            ");
            __builder.OpenElement(111, "div");
            __builder.AddAttribute(112, "class", "row");
            __builder.AddAttribute(113, "b-k5jp4mv3hq");
            __builder.OpenElement(114, "div");
            __builder.AddAttribute(115, "class", "col-lg-12 text-center");
            __builder.AddAttribute(116, "b-k5jp4mv3hq");
            __builder.OpenElement(117, "div");
            __builder.AddAttribute(118, "class", "pagination-wrap");
            __builder.AddAttribute(119, "b-k5jp4mv3hq");
            __builder.OpenElement(120, "ul");
            __builder.AddAttribute(121, "b-k5jp4mv3hq");
#nullable restore
#line 197 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                             if (CurPage > 1)
                            {
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 199 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 if (3 < Math.Ceiling(Convert.ToDouble(_productCount) / 6))
                                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(122, "li");
            __builder.AddAttribute(123, "b-k5jp4mv3hq");
            __builder.OpenElement(124, "a");
            __builder.AddAttribute(125, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 201 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                     ()=>PrevPage()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(126, "b-k5jp4mv3hq");
            __builder.AddMarkupContent(127, "Önceki");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 202 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                }

#line default
#line hidden
#nullable disable
            __builder.OpenElement(128, "li");
            __builder.AddAttribute(129, "b-k5jp4mv3hq");
            __builder.OpenElement(130, "a");
            __builder.AddAttribute(131, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 203 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                 ()=>Pagination(CurPage-2)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(132, "b-k5jp4mv3hq");
            __builder.AddContent(133, 
#nullable restore
#line 203 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                              CurPage-1

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 204 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.OpenElement(134, "li");
            __builder.AddAttribute(135, "b-k5jp4mv3hq");
            __builder.OpenElement(136, "a");
            __builder.AddAttribute(137, "class", "active");
            __builder.AddAttribute(138, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 205 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                            ()=>Pagination(CurPage-1)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(139, "b-k5jp4mv3hq");
            __builder.AddContent(140, 
#nullable restore
#line 205 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                                         CurPage

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 206 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                             if (CurPage < Math.Ceiling(Convert.ToDouble(_productCount) / 6))
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(141, "li");
            __builder.AddAttribute(142, "b-k5jp4mv3hq");
            __builder.OpenElement(143, "a");
            __builder.AddAttribute(144, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 208 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                 ()=>Pagination(CurPage)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(145, "b-k5jp4mv3hq");
            __builder.AddContent(146, 
#nullable restore
#line 208 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                                            CurPage+1

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 209 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 if (3 < Math.Ceiling(Convert.ToDouble(_productCount) / 6))
                                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(147, "li");
            __builder.AddAttribute(148, "b-k5jp4mv3hq");
            __builder.OpenElement(149, "a");
            __builder.AddAttribute(150, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 211 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                     ()=>NextPage()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(151, "b-k5jp4mv3hq");
            __builder.AddContent(152, "Sonraki");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 212 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 212 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                 
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 218 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
        }
        else
        {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(153, "<div class=\"row product-lists\" b-k5jp4mv3hq><h4 b-k5jp4mv3hq>\r\n                    Ürün Bulunamadı\r\n                </h4></div>");
#nullable restore
#line 226 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 229 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
     if (showNotification)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(154, "div");
            __builder.AddAttribute(155, "class", "notification-container");
            __builder.AddAttribute(156, "b-k5jp4mv3hq");
            __builder.OpenComponent<WebApplication.Pages.Modal.Notification>(157);
            __builder.AddAttribute(158, "IsSuccess", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 232 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                      isSuccess

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(159, "Message", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 232 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
                                                           message

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
#nullable restore
#line 234 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 239 "C:\Users\Abdullah\Desktop\Bitirme Projesi\FinalProject\SalesSystem\Source\Clients\BlazorWebApplication\WebApplication\Pages\Product\Products\Products.razor"
       
    [Parameter]
    public string search { get; set; } = string.Empty;
    [Inject]
    public IJSRuntime jsRuntime { get; set; }
    [Inject]
    NavigationManager navigationManager { get; set; }
    [Inject]
    StateManager stateManager { get; set; }
    [Inject]
    IProductService productService { get; set; }
    [Inject]
    IIdentityService identityService { get; set; }
    [Inject]
    public IBasketService basketService { get; set; }


    List<UpCategory> upCategories = new List<UpCategory>();
    List<DownCategory> downCategories = new List<DownCategory>();
    List<Brand> brands = new List<Brand>();

    private int CurPage = 1;
    private int CurDownCategoryId = 0;
    private int CurUpCategoryId = 0;
    private int CurBrandId = 0;

    bool isSuccess { get; set; }
    string message { get; set; }
    bool showNotification { get; set; } = false;

    int selectedUpCategoryId;
    int selectedDownCategoryId;
    int selectedBrandId;

    bool changeSearch = false;

    public void AccessControl()
    {
        bool isLoggedIn = identityService.IsLoggedIn;
        if (isLoggedIn)
        {
            var stringDate = identityService.GetUserExpiration();
            DateTime loggedTime = DateTime.Parse(stringDate);
            DateTime nowDateTime = DateTime.Now;

            TimeSpan timeDifference = loggedTime - nowDateTime;

            if (timeDifference.TotalMinutes < -5)
            {
                identityService.Logout();
                stateManager.LoginChanged(this);
                //navigationManager.NavigateTo($"logout?returnUrl={Uri.EscapeDataString(navigationManager.Uri)}", true);
            }
        }
    }

    protected async override Task OnInitializedAsync()
    {
        //var jsInProcess = (IJSInProcessRuntime)JSRuntime;
        //myScript = jsInProcess.Invoke<IJSObjectReference>("import", navigationManager.BaseUri + "assets/js/main.js");
        //var uri = navigationManager.ToAbsoluteUri(navigationManager.Uri);
        //var queryStrings = QueryHelpers.ParseQuery(uri.Query);
        //if (queryStrings.TryGetValue("upCategory", out var upCategory))
        //{
        //    _upCategory = Convert.ToInt32(upCategory);
        //}

        //if (queryStrings.TryGetValue("downCategory", out var downCategory))
        //{
        //    _downCategory = Convert.ToInt32(downCategory);
        //}

        //if (queryStrings.TryGetValue("brand", out var brand))
        //{
        //    _brand = Convert.ToInt32(brand);
        //}
        //if (queryStrings.TryGetValue("reload", out var reload))
        //{
        //    _reload = Convert.ToInt32(reload);
        //}

        AccessControl();
        upCategories = await productService.GetUpCategoryItems();
        downCategories = await productService.GetDownCategoryItems();
        brands = await productService.GetBrandItems();
        if (!string.IsNullOrEmpty(search))
        {
            SearchProducts(CurPage - 1);
        }
        else
        {
            await GetProductsDataAsync(CurPage - 1, CurUpCategoryId, CurDownCategoryId, CurBrandId);
        }
    }

    //protected async override Task OnAfterRenderAsync(bool firstRender)
    //{
    //    if (firstRender)
    //    {
    //        await jsRuntime.InvokeVoidAsync("myFunction");
    //    }
    //}
    protected async override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            await jsRuntime.InvokeVoidAsync("myFunction");
            stateManager.StateChanged += async (source, property) => await StateManager_StateChanged(source, property);
        }
    }
    //------------------------------------------------------------------------------------------------------------------------
    IEnumerable<Product> _products { get; set; } = new List<Product>();
    int _productCount { get; set; }

    //private async Task GetProductsAsync(int page, UpCategory upCategory = null, DownCategory downCategory = null, Brand brand = null)
    //{
    //    CurUpCategory = null;
    //    CurDownCategory = null;
    //    CurBrand = null;
    //    if (upCategory != null)
    //    {
    //        CurUpCategory = upCategory;
    //        CurPage = 1;
    //    }
    //    if (downCategory != null)
    //    {
    //        CurDownCategory = downCategory;
    //        CurPage = 1;
    //    }
    //    if (brand != null)
    //    {
    //        CurBrand = brand;
    //        CurPage = 1;
    //    }
    //    var inComingProducts = await GetProductsDataAsync(page, CurUpCategory, CurDownCategory, CurBrand);

    //    _products = inComingProducts.Data;
    //    _productCount = inComingProducts.Count;
    //    stateManager.UpdateContent(this, "ProductPage");

    //}
    private async void FilterProduct()
    {
        CurUpCategoryId = selectedUpCategoryId;
        CurDownCategoryId = selectedDownCategoryId;
        CurBrandId = selectedBrandId;
        await GetProductsDataAsync(0, CurUpCategoryId, CurDownCategoryId, CurBrandId);
        if (!string.IsNullOrEmpty(search))
        {
            search = string.Empty;
            CurPage = 1;
        }
        navigationManager.NavigateTo("/Product");
    }
    private async void SearchProducts(int page)
    {
        var inComingProducts = await productService.GetSearchProductsItem(page, search);
        _products = inComingProducts.Data;
        _productCount = inComingProducts.Count;
        stateManager.UpdateContent(this, "ProductPage");
    }
    private async Task GetProductsDataAsync(int page, int upCategoryId, int downCategoryId, int brandId)
    {
        var inComingProducts = await productService.GetProductsItem(page, upCategoryId, downCategoryId, brandId, null);

        _products = inComingProducts.Data;
        _productCount = inComingProducts.Count;
        stateManager.UpdateContent(this, "ProductPage");
        //return await productService.GetProductsItem(page, upCategoryId, downCategoryId, brandId,null);
    }
    //private async Task<PaginatedViewModel<Product>> GetProductsDataAsync(int page, UpCategory upCategory = null, DownCategory downCategory = null, Brand brand = null)
    //{

    //    if (upCategory != null && downCategory == null && brand == null)
    //    {
    //        return await productService.GetProductItemByUpCategories(upCategory, page, null);
    //    }
    //    if (upCategory == null && downCategory != null && brand == null)
    //    {
    //        return await productService.GetProductItemByDownCategories(downCategory, page, null);
    //    }
    //    if (upCategory == null && downCategory == null && brand != null)
    //    {
    //        return await productService.GetProductItemByBrands(brand, page, null);
    //    }
    //    return await productService.GetProductsItem(page, null);
    //}
    private async void Pagination(int page)
    {
        CurPage = page + 1;
        if (changeSearch)
        {
            CurPage = 1;
            changeSearch = false;
        }
        if (!string.IsNullOrEmpty(search))
        {
            SearchProducts(page);
        }
        else
        {
            await GetProductsDataAsync(page, CurUpCategoryId, CurDownCategoryId, CurBrandId);
        }

        //await GetProductsAsync(page, CurUpCategory, CurDownCategory, CurBrand);
    }
    //------------------------------------------------------------------------------------------------------------------------
    private async Task StateManager_StateChanged(ComponentBase component, string property)
    {
        if (property == "ProductPage")
        {
            await InvokeAsync(StateHasChanged);
        }

    }

    public async Task AddToCart(Product product)
    {
        if (!identityService.IsLoggedIn)
        {
            navigationManager.NavigateTo($"login?returnUrl={Uri.EscapeDataString(navigationManager.Uri)}", true);
            return;
        }
        var addResult = await basketService.AddItemToBasket(product.Id, 1);

        showNotification = true;
        if (addResult)
        {
            isSuccess = true;
            message = "Ürün başarıyla eklendi. Miktar: 1";
        }
        else
        {
            isSuccess = false;
            message = "Ürün ekleme işleminde hata oluştu!";
        }
        stateManager.UpdateContent(this, "ProductPage");

        // 2 saniye sonra bildirimi kaldır
        await Task.Delay(2000).ContinueWith(t =>
        {
            isSuccess = false;
            message = "";
            showNotification = false;
            stateManager.UpdateContent(this, "ProductPage");
        });


    }


    protected async Task NextPage()
    {
        int MaxPage = Convert.ToInt32(Math.Round(Convert.ToDouble(_productCount / 6)) + 1);
        if (CurPage < MaxPage)
        {

            CurPage++;
            await GetProductsDataAsync(CurPage - 1, CurUpCategoryId, CurDownCategoryId, CurBrandId);
        }
    }
    protected async Task PrevPage()
    {
        if (CurPage > 1)
        {
            CurPage--;
            await GetProductsDataAsync(CurPage - 1, CurUpCategoryId, CurDownCategoryId, CurBrandId);
        }
    }
    private void OptionUpCategorySelected(ChangeEventArgs e)
    {
        selectedUpCategoryId = Convert.ToInt32(e.Value);
        selectedDownCategoryId = 0;
    }
    private void OptionDownCategorySelected(ChangeEventArgs e)
    {
        selectedDownCategoryId = Convert.ToInt32(e.Value);
        if (selectedDownCategoryId != 0)
        {
            selectedUpCategoryId = downCategories.FirstOrDefault(p => p.Id == selectedDownCategoryId).UpCategoryId;
        }
    }
    private void OptionBrandSelected(ChangeEventArgs e)
    {
        selectedBrandId = Convert.ToInt32(e.Value);
    }

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
